/** xj.operate(判断操作方式) | V0.6.0 | Apache Licence 2.0 | 2016-2022 © XJ.Chen | https://github.com/xjZone/xj.operate/ */
!function(a,b){"function"!=typeof define||void 0===define.amd&&void 0===define.cmd?"undefined"!=typeof module&&"object"==typeof exports?module.exports=b():(a=a||self,a.xj||(a.xj={}),a.xj.operate=b()):define(b)}(this,function(){"use strict";var g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:global,b=function(){},c="0.6.0",d="operate",e={classTarget:document.documentElement,existClass:"xj-operate-exist",mouseClass:"xj-operate-mouse",touchClass:"xj-operate-touch",otherClass:"xj-operate-other",pressHover:!1,delayTime:500,mouseCallback:b,touchCallback:b,otherCallback:b},f={};return void 0===a.xj&&(a.xj={}),void 0===a.xj.operateReturn&&(a.xj.operateReturn={}),void 0!==a.xj.operateReturn[c]?a.xj.operateReturn[c]:(void 0===a.xj.operateConfig&&(a.xj.operateConfig={}),void 0===a.xj.operateOption&&(a.xj.operateOption={}),void 0!==a.xj.operateConfig[c]&&Object.keys(a.xj.operateConfig[c]).forEach(function(b){e[b]=a.xj.operateConfig[c][b]}),void 0!==a.xj.operateOption[c]&&Object.keys(a.xj.operateOption[c]).forEach(function(b){f[b]=a.xj.operateOption[c][b]}),g=a,h=g.document,h.documentElement,h.body,k=!1,l=0,m=!1,n=0,o=!1,p=function(a){if(a.isTrusted!==!1&&w.mouse!==!0){if(n>2)return"scroll/zoom";if(!(Date.now()-l<=e.delayTime))return Date.now()-l>e.delayTime&&e.pressHover===!1&&k===!0?(k=!1,void 0):(w.mouseSet(),void 0)}},q=function(a){a.isTrusted!==!1&&(a.touches.length>1||n>2||(m=!0,o=!1,k=!0,l=Date.now(),w.touch!==!0&&w.touchSet()))},r=function(a){a.isTrusted===!0&&(n+=1)},s=function(a){a.isTrusted!==!1&&(a.touches.length>0||(e.pressHover===!0&&Date.now()-l>=500&&2>=n&&w.mouse===!1&&w.mouseSet(),m=!1,n=0,o=!0))},t=function(a){a.isTrusted!==!1&&(a.touches.length>0||(e.pressHover===!0&&Date.now()-l>=500&&2>=n&&w.mouse===!1&&m===!0&&o===!1&&w.mouseSet(),m=!1,n=0,o=!0))},u=function(a){h[a===!0?"addEventListener":"removeEventListener"]("mousemove",p,!0),h[a===!0?"addEventListener":"removeEventListener"]("touchstart",q,!0),h[a===!0?"addEventListener":"removeEventListener"]("touchmove",r,!0),h[a===!0?"addEventListener":"removeEventListener"]("touchend",s,!0),h[a===!0?"addEventListener":"removeEventListener"]("touchcancel",t,!0)},v=function(a){e.classTarget.classList["mouse"===a?"add":"remove"](e.mouseClass),e.classTarget.classList["touch"===a?"add":"remove"](e.touchClass),e.classTarget.classList["other"===a?"add":"remove"](e.otherClass)},w={version:c,mouse:!1,touch:!1,other:!1,mouseSet:b,touchSet:b,otherSet:b},w.mouseSet=function(a){void 0===a&&(a=!0),e.mouseCallback(a)!==!1&&(w.mouse=!0,w.touch=!1,w.other=!1,v("mouse"),u(a))},w.touchSet=function(a){void 0===a&&(a=!0),e.touchCallback(a)!==!1&&(w.mouse=!1,w.touch=!0,w.other=!1,v("touch"),u(a))},w.otherSet=function(a){void 0===a&&(a=!0),e.otherCallback(a)!==!1&&(w.mouse=!1,w.touch=!1,w.other=!0,v("other"),u(a))},null!==e.classTarget&&""!==e.existClass&&e.classTarget.classList.add(e.existClass),"ontouchstart"in h==!0?w.touchSet():w.mouseSet(),a.xj[d+"Return"][c]=w)});
